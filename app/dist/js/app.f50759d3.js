(function(){"use strict";var a={2079:function(a,t,n){var e=n(5130),s=n(6768);const r={id:"app"};function i(a,t,n,e,i,o){const l=(0,s.g2)("CanSatDisplay");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(l)])}var o=n(4232);const l={class:"cansat-display"},c={class:"mission-header"},u={key:0,class:"error"},d={key:1,class:"loading"},f={key:2,class:"data-container"},p={class:"mission-time"},v={class:"data-grid"},m={class:"data-item telemetry"},h={class:"data-value code"},S={class:"data-item signal"},g={class:"signal-meter"},L={class:"data-value"},k={class:"data-item quality"},T={class:"data-value"},y={class:"data-item timestamp"},D={class:"data-value"},E={class:"data-item update"},b={class:"data-value"},I=["disabled"];function A(a,t,n,e,r,i){return(0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",c,[(0,s.Lk)("h1",null,[t[1]||(t[1]=(0,s.Lk)("span",{class:"mission-icon"},"🛰️",-1)),t[2]||(t[2]=(0,s.eW)(" CANSAT MISSION CONTROL ")),(0,s.Lk)("div",{class:(0,o.C4)(["mission-status",{"status-active":!r.error}])},(0,o.v_)(r.error?"OFFLINE":"ACTIVE"),3)])]),r.error?((0,s.uX)(),(0,s.CE)("div",u,[t[3]||(t[3]=(0,s.Lk)("span",{class:"error-icon"},"⚠️",-1)),(0,s.eW)(" "+(0,o.v_)(r.error),1)])):(0,s.Q3)("",!0),r.loading?((0,s.uX)(),(0,s.CE)("div",d,t[4]||(t[4]=[(0,s.Lk)("div",{class:"loading-spinner"},null,-1),(0,s.eW)(" ESTABLISHING COMMUNICATION LINK... ")]))):(0,s.Q3)("",!0),r.loading||r.error||!r.cansatData?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",f,[(0,s.Lk)("div",p," MISSION TIME: "+(0,o.v_)(i.getMissionTime()),1),(0,s.Lk)("div",v,[(0,s.Lk)("div",m,[t[5]||(t[5]=(0,s.Lk)("span",{class:"data-label"},"PAYLOAD DATA",-1)),(0,s.Lk)("span",h,(0,o.v_)(r.cansatData.payload),1)]),(0,s.Lk)("div",S,[t[6]||(t[6]=(0,s.Lk)("span",{class:"data-label"},"SIGNAL STRENGTH (RSSI)",-1)),(0,s.Lk)("div",g,[(0,s.Lk)("div",{class:"signal-bar",style:(0,o.Tr)({width:i.getRSSIPercentage()+"%"})},null,4)]),(0,s.Lk)("span",L,(0,o.v_)(r.cansatData.rssi)+" dBm",1)]),(0,s.Lk)("div",k,[t[7]||(t[7]=(0,s.Lk)("span",{class:"data-label"},"SIGNAL QUALITY (SNR)",-1)),(0,s.Lk)("div",{class:(0,o.C4)(["quality-indicator",i.getSNRClass()])},[(0,s.Lk)("span",T,(0,o.v_)(r.cansatData.snr)+" dB",1)],2)]),(0,s.Lk)("div",y,[t[8]||(t[8]=(0,s.Lk)("span",{class:"data-label"},"GATEWAY TIMESTAMP",-1)),(0,s.Lk)("span",D,(0,o.v_)(i.formatTimestamp(r.cansatData.timestamp)),1)]),(0,s.Lk)("div",E,[t[9]||(t[9]=(0,s.Lk)("span",{class:"data-label"},"LAST TELEMETRY UPDATE",-1)),(0,s.Lk)("span",b,(0,o.v_)(i.formatTimestamp(r.lastFrontendUpdate)),1)])]),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...a)=>i.fetchData&&i.fetchData(...a)),disabled:r.loading},t[10]||(t[10]=[(0,s.Lk)("span",{class:"button-icon"},"📡",-1),(0,s.eW)(" REQUEST TELEMETRY UPDATE ")]),8,I)]))])}var O=n(4373);const C="http://192.168.1.132/api/cansat_data";var M={name:"CanSatDisplay",data(){return{cansatData:null,loading:!1,error:null,lastFrontendUpdate:null,pollingInterval:null,missionStartTime:new Date}},methods:{async fetchData(){this.loading=!0,this.error=null;try{const a=await O.A.get(C);this.cansatData=a.data,this.lastFrontendUpdate=(new Date).toLocaleString()}catch(a){console.error("Error fetching CanSat data:",a),this.error="ERROR DE COMUNICACIÓN: Verificar estado del sistema de telemetría.",a.response?this.error+=` (CÓDIGO: ${a.response.status})`:a.request&&(this.error+=" (SIN RESPUESTA DEL SERVIDOR)")}finally{this.loading=!1}},getMissionTime(){const a=new Date,t=a-this.missionStartTime,n=Math.floor(t/36e5),e=Math.floor(t%36e5/6e4),s=Math.floor(t%6e4/1e3);return`${n.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},getRSSIPercentage(){if(!this.cansatData)return 0;const a=this.cansatData.rssi,t=-120,n=-30,e=(a-t)/(n-t)*100;return Math.min(Math.max(e,0),100)},getSNRClass(){if(!this.cansatData)return"quality-poor";const a=this.cansatData.snr;return a>10?"quality-excellent":a>5?"quality-good":a>0?"quality-fair":"quality-poor"},formatTimestamp(a){return a?a.replace(" "," | "):"NO DATA"}},mounted(){this.fetchData(),this.pollingInterval=setInterval(this.fetchData,1e4)},beforeUnmount(){clearInterval(this.pollingInterval)}},N=n(1241);const _=(0,N.A)(M,[["render",A],["__scopeId","data-v-6e3acc33"]]);var R=_,w={name:"App",components:{CanSatDisplay:R}};const P=(0,N.A)(w,[["render",i]]);var U=P;(0,e.Ef)(U).mount("#app")}},t={};function n(e){var s=t[e];if(void 0!==s)return s.exports;var r=t[e]={exports:{}};return a[e].call(r.exports,r,r.exports,n),r.exports}n.m=a,function(){var a=[];n.O=function(t,e,s,r){if(!e){var i=1/0;for(u=0;u<a.length;u++){e=a[u][0],s=a[u][1],r=a[u][2];for(var o=!0,l=0;l<e.length;l++)(!1&r||i>=r)&&Object.keys(n.O).every((function(a){return n.O[a](e[l])}))?e.splice(l--,1):(o=!1,r<i&&(i=r));if(o){a.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=a.length;u>0&&a[u-1][2]>r;u--)a[u]=a[u-1];a[u]=[e,s,r]}}(),function(){n.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return n.d(t,{a:t}),t}}(),function(){n.d=function(a,t){for(var e in t)n.o(t,e)&&!n.o(a,e)&&Object.defineProperty(a,e,{enumerable:!0,get:t[e]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){n.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){n.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={524:0};n.O.j=function(t){return 0===a[t]};var t=function(t,e){var s,r,i=e[0],o=e[1],l=e[2],c=0;if(i.some((function(t){return 0!==a[t]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)var u=l(n)}for(t&&t(e);c<i.length;c++)r=i[c],n.o(a,r)&&a[r]&&a[r][0](),a[r]=0;return n.O(u)},e=self["webpackChunkcansat_vue_frontend"]=self["webpackChunkcansat_vue_frontend"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=n.O(void 0,[504],(function(){return n(2079)}));e=n.O(e)})();
//# sourceMappingURL=app.f50759d3.js.map